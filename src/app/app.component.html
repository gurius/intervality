<div
  class="side-panel-portrait z-10 flex h-full min-w-80 flex-col bg-container text-xl text-on-container"
  [ngClass]="{
    'slide-in-left': isPanelVisible,
    'slide-out-left': !isPanelVisible,
  }"
>
  <div class="app-info text-on-primary">
    <h1>{{ title }}</h1>
    <div class="app-info__version">{{ version }}</div>
  </div>
  <nav class="overflow-y-auto">
    <a
      (click)="toggleSidePanel()"
      someStringProperty
      routerLinkActive="bg-secondary"
      routerLink="playable"
      class="flex w-full items-center gap-3 rounded-l-lg from-purple-500 via-fuchsia-600 via-purple-400 to-purple-800 p-4 hover:bg-gradient-to-br"
      ariaCurrentWhenActive="page"
    >
      <fa-icon [icon]="['fas', 'list-ul']"></fa-icon>Playlist
    </a>
    <a
      (click)="toggleSidePanel()"
      routerLinkActive="bg-secondary on-bg-secondary"
      routerLink="settings"
      class="flex w-full items-center gap-3 rounded-l-lg from-purple-500 via-fuchsia-600 via-purple-400 to-purple-800 p-4 hover:bg-gradient-to-br"
      ariaCurrentWhenActive="page"
    >
      <fa-icon [icon]="['fas', 'gear']"></fa-icon>Settings
    </a>

    <h3>Create</h3>
    <a
      (click)="toggleSidePanel()"
      someStringProperty
      routerLinkActive="bg-secondary"
      (click)="navigate(['create', 'set'])"
      class="flex w-full items-center gap-3 rounded-l-lg from-purple-500 via-fuchsia-600 via-purple-400 to-purple-800 p-4 hover:bg-gradient-to-br"
      ariaCurrentWhenActive="page"
    >
      <fa-icon [icon]="['fas', 'bars']"></fa-icon>Set
    </a>

    <a
      (click)="toggleSidePanel()"
      someStringProperty
      routerLinkActive="bg-secondary"
      (click)="navigate(['create', 'super-set'])"
      class="flex w-full items-center gap-3 rounded-l-lg from-purple-500 via-fuchsia-600 via-purple-400 to-purple-800 p-4 hover:bg-gradient-to-br"
      ariaCurrentWhenActive="page"
    >
      <fa-icon [icon]="['fas', 'superpowers']"></fa-icon> Super Set
    </a>

    <a
      (click)="toggleSidePanel()"
      someStringProperty
      routerLinkActive="bg-secondary"
      (click)="navigate(['create', 'countdown'])"
      class="flex w-full items-center gap-3 rounded-l-lg from-purple-500 via-fuchsia-600 via-purple-400 to-purple-800 p-4 hover:bg-gradient-to-br"
      ariaCurrentWhenActive="page"
    >
      <fa-icon [icon]="['fas', 'hourglass-start']"></fa-icon>Countdown
    </a>
    <a
      (click)="toggleSidePanel()"
      someStringProperty
      routerLinkActive="bg-secondary"
      (click)="navigate(['create', 'stopwatch'])"
      class="flex w-full items-center gap-3 rounded-l-lg from-purple-500 via-fuchsia-600 via-purple-400 to-purple-800 p-4 hover:bg-gradient-to-br"
      ariaCurrentWhenActive="page"
    >
      <fa-icon [icon]="['fas', 'stopwatch']"></fa-icon>Stopwatch
    </a>
  </nav>
</div>

@if (isPanelVisible && !isPushMode) {
  <div
    class="absolute inset-0 z-[1] backdrop-blur-sm"
    (click)="toggleSidePanel()"
  ></div>
}

<div
  class="absolute z-0 overflow-hidden"
  [ngClass]="{
    'inset-0': !isPanelVisible || (isPanelVisible && !isPushMode),
    'bottom-0 left-80 right-0 top-0': isPushMode && isPanelVisible,
  }"
>
  <div class="heading flex h-14 justify-between xl:h-20">
    <button type="button" (click)="toggleSidePanel()" class="p-5">
      <fa-icon [icon]="['fas', 'bars']"></fa-icon>
    </button>

    <div class="mr-4 flex items-center justify-center gap-2">
      <button
        class="flex h-11 w-11 items-center justify-center gap-2 rounded-md border-2 border-secondary"
        *ngIf="wakelockService.isSupported()"
        type="button"
        (click)="toggleWakelock()"
      >
        @if (wakelockService.isLocked()) {
          <fa-icon [icon]="['fas', 'mug-hot']"></fa-icon>
        } @else {
          <fa-icon [icon]="['fas', 'coffee']"></fa-icon>
        }
      </button>

      <button
        *ngIf="isPlayer"
        (click)="playerStop()"
        type="button"
        class="flex h-11 w-11 items-center justify-center rounded-md border-2 border-secondary"
      >
        <fa-icon [icon]="['fas', 'circle-stop']"></fa-icon>
      </button>
    </div>
  </div>
  <div
    class="outlet-wrapper h-[calc(100dvh-theme(height.14))] w-full overflow-y-auto xl:h-[calc(100dvh-theme(height.20))]"
  >
    <router-outlet />
  </div>
</div>
